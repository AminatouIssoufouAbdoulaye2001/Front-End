
 <app-toolbar></app-toolbar>
<div class="container">
<form
  class="row g-3 needs-validation"
  [formGroup]="myForm"
  (ngSubmit)="loadData()"
>
  <div class="col-md-4">
    <label for="validationCustom01" class="form-label">Nom & Prenom</label>
    <input
      type="text"
      class="form-control"
      id="validationCustom01"
      formControlName="fullName"
      required
    />
    <div class="valid-feedback">Looks good!</div>
  </div>

  <div class="col-md-4">
    <label for="validationCustomUsername" class="form-label">Username</label>
    <div class="input-group">
      <span class="input-group-text" id="inputGroupPrepend">@</span>
      <input
        type="text"
        class="form-control"
        id="validationCustomUsername"
        formControlName="username"
        required
      />
      <div class="invalid-feedback">Please choose a username.</div>
    </div>
  </div>

  <div class="col-md-3">
    <label for="validationCustom04" class="form-label">Role</label>
    <p-dropdown
    [options]="roles"
    [editable]="true"
      id="validationCustom04"
      formControlName="role"
    >
    </p-dropdown>
  </div>

  <div class="col-12">
    <div class="form-check">
      <input
        class="form-check-input"
        type="checkbox"
        value=""
        id="invalidCheck"
        required
      />
      <label class="form-check-label" for="invalidCheck">
        Agree to terms and conditions
      </label>
      <div class="invalid-feedback">You must agree before submitting.</div>
    </div>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit">Add user</button>
  </div>
</form>

<hr />

<p-table [value]="users" editMode="row" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th>Nom et pr√©nom</th>
      <th>Username</th>
      <th>Role</th>
      <th style="width: 8rem"></th>
    </tr>
  </ng-template>
  <ng-template
    pTemplate="body"
    let-admin
    let-editing="editing"
    let-ri="rowIndex"
  >
    <tr [pEditableRow]="admin">
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input pInputText type="text" [(ngModel)]="admin.fullName" />
          </ng-template>
          <ng-template pTemplate="output">
            {{ admin.fullName }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <input
              pInputText
              type="text"
              [(ngModel)]="admin.username"
              required
            />
          </ng-template>
          <ng-template pTemplate="output">
            {{ admin.username }}
          </ng-template>
        </p-cellEditor>
      </td>
      <td>
        <p-cellEditor>
          <ng-template pTemplate="input">
            <p-dropdown
              [options]="roles"
              [(ngModel)]="admin.role"
              [style]="{ width: '100%' }"
            ></p-dropdown>
            <ng-template pTemplate="output">
              {{ admin.role }}
            </ng-template>
          </ng-template>
        </p-cellEditor>
      </td>

      <td style="text-align: center">
        <button
          *ngIf="!editing"
          pButton
          pRipple
          type="button"
          pInitEditableRow
          icon="pi pi-pencil"
          class="p-button-rounded p-button-text"
        ></button>
        <button
          *ngIf="editing"
          pButton
          pRipple
          type="button"
          pSaveEditableRow
          icon="pi pi-check"
          class="p-button-rounded p-button-text p-button-success mr-2"
        ></button>
        <button
          *ngIf="editing"
          pButton
          pRipple
          type="button"
          pCancelEditableRow
          icon="pi pi-times"
          class="p-button-rounded p-button-text p-button-danger"
        ></button>
      </td>
    </tr>
  </ng-template>
</p-table>

</div>